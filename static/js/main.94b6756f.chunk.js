(this.webpackJsonpreact_gallery_project_7=this.webpackJsonpreact_gallery_project_7||[]).push([[0],{37:function(t,e,n){},62:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n(29),o=n.n(r),c=n(8),s=(n(37),n(10)),i=n(11),h=n(13),l=n(12),j=n(2),u=n(30),d=n.n(u),p="e8b485b98911d9629f7b9503967bf044",b=n(0);var f=function(){return Object(b.jsx)("nav",{className:"main-nav",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(c.b,{to:"/surf",children:"Surf"})}),Object(b.jsx)("li",{children:Object(b.jsx)(c.b,{to:"/snow",children:"Snow"})}),Object(b.jsx)("li",{children:Object(b.jsx)(c.b,{to:"/rain",children:"Rain"})})]})})},O=function(t){return Object(b.jsx)("li",{children:Object(b.jsx)("img",{src:t.url,alt:t.title})})},x=function(){return Object(b.jsx)("h3",{children:"Sorry, no results found. Try searching a different topic."})},g=function(){return Object(b.jsx)("h3",{children:"Loading ..."})},m=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={isMounted:!1},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"render",value:function(){var t,e=this.props.data;return e.length>0?(t=e.map((function(t){return Object(b.jsx)(O,{url:"https://farm".concat(t.farm,".staticflickr.com/").concat(t.server,"/").concat(t.id,"_").concat(t.secret,"_m.jpg"),title:t.title},t.id)})),Object(b.jsxs)("div",{className:"photo-container",children:[Object(b.jsxs)("h2",{children:["Search Results ",this.props.title]}),Object(b.jsx)("ul",{children:t})]})):e.length<1&&!0===this.state.isMounted?Object(b.jsx)(g,{}):Object(b.jsx)(x,{})}}]),n}(a.Component),v=m,S=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={searchText:""},t.onSearchChange=function(e){t.setState({searchText:e.target.value})},t.handleSubmit=function(e){e.preventDefault();var n="/search/".concat(t.query.value);t.props.onSearch(t.query.value),t.props.history.push(n),e.currentTarget.reset()},t}return Object(i.a)(n,[{key:"render",value:function(){var t=this;return Object(b.jsxs)("form",{className:"search-form",onSubmit:this.handleSubmit,children:[Object(b.jsx)("input",{type:"search",name:"search",onChange:this.onSearchChange,ref:function(e){return t.query=e},placeholder:"Search...",required:!0}),Object(b.jsx)("button",{type:"submit",className:"search-button",children:Object(b.jsxs)("svg",{fill:"#fff",height:"24",viewBox:"0 0 23 23",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[Object(b.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),Object(b.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]})})]})}}]),n}(a.Component),y=Object(j.f)(S),w=function(){return Object(b.jsx)("h3",{children:"404 - Page not found!"})},k=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={initialPhotos:[],surfPhotos:[],snowPhotos:[],rainPhotos:[],photos:[],query:"",loading:!0,title:""},t.performSearch=function(e){t.setState({loading:!0}),d.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(p,'&tags="').concat(e,'"&per_page=24&format=json&nojsoncallback=1')).then((function(n){"surf"===e?t.setState({surfPhotos:n.data.photos.photo,loading:!1}):"snow"===e?t.setState({snowPhotos:n.data.photos.photo,loading:!1}):"rain"===e?t.setState({rainPhotos:n.data.photos.photo,loading:!1}):"moon"===e?t.setState({initialPhotos:n.data.photos.photo,loading:!1}):t.setState({photos:n.data.photos.photo,title:e,loading:!1})})).catch((function(t){console.log("Error fetching and parsing data",t)}))},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.performSearch("moon"),this.performSearch("surf"),this.performSearch("snow"),this.performSearch("rain"),this.setState({loading:!0})}},{key:"componentDidUpdate",value:function(t){this.props.location.pathname!==t.location.pathname&&this.performSearch(this.props.location.pathname.replace("/search/",""))}},{key:"render",value:function(){var t=this;return console.log(this.state.photos),Object(b.jsx)(c.a,{basename:"/react_gallery_project_7",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(y,{onSearch:this.performSearch}),Object(b.jsx)(f,{}),this.state.loading?Object(b.jsx)(g,{}):Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(b.jsx)(v,{data:t.state.initialPhotos,loading:t.state.loading})}}),Object(b.jsx)(j.a,{exact:!0,path:"/surf",render:function(){return Object(b.jsx)(v,{data:t.state.surfPhotos,title:"surf",loading:t.state.loading})}}),Object(b.jsx)(j.a,{exact:!0,path:"/snow",render:function(){return Object(b.jsx)(v,{data:t.state.snowPhotos,title:"snow",loading:t.state.loading})}}),Object(b.jsx)(j.a,{exact:!0,path:"/rain",render:function(){return Object(b.jsx)(v,{data:t.state.rainPhotos,title:"rain",loading:t.state.loading})}}),Object(b.jsx)(j.a,{path:"/search/:query",render:function(){return Object(b.jsx)(v,{data:t.state.photos,title:t.state.title,loading:t.state.loading})}}),Object(b.jsx)(j.a,{render:function(){return Object(b.jsx)(w,{})}})]})]})})}}]),n}(a.Component),P=Object(j.f)(k);o.a.render(Object(b.jsx)(c.a,{children:Object(b.jsx)(P,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.94b6756f.chunk.js.map